@{
    Layout = "_Layout";
}
@using System.Collections.Generic;
@using Library.Models;
@model List<Library.Models.Book>;

<div class="card">
    <div class="card-body">
        <h1 class="card-title text-center">Books</h1>
    </div>
        <a href="/Book/Create" class = "button btn btn-success">Add Book</a>
</div>
<div class="card">
    <div class="card-body">
        <h3 class="card-title">Books</h3>
        @if(@Model.Count == 0)
        {
            <h2><i>There are no Books in the Database at this time.</i></h2>
        }
        else
        {
           
            @foreach(Book book in Model)
            {
                <h2>@Html.ActionLink($"{book.Title}", "Details","Book", new { id = book.BookId})</h2>
                <p>@book.Authors.Count</p>
                    @foreach(AuthorBook author in book.Authors)
                    {  
                    <h4>By @Html.ActionLink($"{author.Author.AuthorName}", "Details","Book", new { id = author.Author.AuthorId})</h4>
                    }
                    
            }
            
        }
    </div>
</div>
